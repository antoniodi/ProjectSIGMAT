jQuery(document).ready(function(e){var a=window.location.search.split("=")[1].split(",");console.log(a),e.getJSON("http://localhost:8000/data/rutas.json").success(function(n){function o(e){for(var a=0;a<e.length;a++)for(var o=0;o<n.length;o++)e[a]==n[o].nombre&&(c.push(new Itinerarios(r,n[o].nombre,n[o].paradas,l,n[o].color)),l++);for(var a=0;a<c.length;a++)t(e[a],c[a])}function i(e){indiceAnterior=Itinerarios.length,indice=0;for(var a=0;a<e.length;a++)for(var o=0;o<n.length;o++)e[a]==n[o].nombre&&(c.push(new Itinerarios(r,n[o].nombre,n[o].paradas,l,n[o].color)),l++);for(var a=indiceAnterior;a<c.length;a++)t(e[indice],c[a]),indice++}function t(a,n){e.getJSON("http://localhost:8000/data/buses"+a+".json").success(function(o){e.bus=o;for(var i=[],t=o,s=0;s<t.length;s++)i.push(t[s][0].idRecorrido),n.agregarRecorrido(a,t[s][0].idRecorrido,t[s][0].id);var r=0;setInterval(function(){if(r<t[0].length){console.log(),indices=n.getVectorIndices(i);for(var o=0;o<indices.length;o++)n.actualizarBus(e("#"+t[indices[o]][r].idRecorrido+a),t[indices[o]][r]);r++}else r=0},1e3)})}e.rutas=n,modal=new vModalMulti(n,a);var r=100,c=[],l=0;o(a),e(".amodal1").click(function(){if(seleccionadasC=[],e("input:checkbox[name=rutas]").each(function(){e(this).is(":checked")&&seleccionadasC.push(e(this).val())}),0==seleccionadasC.length)Materialize.toast("¡Porfavor, Seleccione almenos una ruta!",5e3);else if(seleccionadasC.length+a.length>5)Materialize.toast("¡Lo sentimos, Maximo puede monitorizar 5 rutas simultaneamente!",5e3);else{for(var n=0;n<seleccionadasC.length;n++)a.push(seleccionadasC[n]);i(seleccionadasC)}}),e(".cajarr").on("click","input",function(){s=e(this),val=s.val(),a=e(a).not([c[val].nomRuta]),modal.setRutasActivas(e(a).not([c[val].nomRuta])),delete c[val],ruta=e(".cajaR"+val),ruta.find(".timelinem").css("height","0px"),ruta.find(".cerrar").css("display","none"),setTimeout(function(){ruta.remove()},1e3)})})});