function setTimelineWidth(e,t,n){return totalWidth=n*e+e,t.children(".line").children(".linei").css("width",totalWidth+"px"),totalWidth}function setPosTimelineE(e,t,n){console.log(e),disNormal=Math.round(e*t+t),console.log(disNormal),n.css("left",disNormal+"px"),n.css("transform","translateX(-50%)")}function setPosTimelineB(e,t,n){dis=Math.round(t/n),console.log(dis),e.css("left",dis+"px"),e.css("transform","translateX(-50%)"),e.css("transition","left 1s linear")}function updateSlide(e,t,n){var i=e.children(".line"),s=i.children(".linei"),l=getTranslateValue(s),r=Number(i.css("width").replace("px",""));"next"==n?translateTimeline(e,l-r,r-t):translateTimeline(e,l+r)}function getTranslateValue(e){var t=window.getComputedStyle(e.get(0),null),n=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform");if(n.indexOf("(")>=0){var n=n.split("(")[1];n=n.split(")")[0],n=n.split(",");var i=n[4]}else var i=0;return Number(i)}function translateTimeline(e,t,n){var i=e.children(".line").children(".linei").get(0),s=e.find(".mover");console.log(i),t=t>0?0:t,t="undefined"!=typeof n&&n>t?n:t,setTransformValue(i,"translateX",t+"px"),0==t?s.find(".prev").addClass("inactive"):s.find(".prev").removeClass("inactive"),t==n?s.find(".next").addClass("inactive"):s.find(".next").removeClass("inactive")}function setTransformValue(e,t,n){e.style["-webkit-transform"]=t+"("+n+")",e.style["-moz-transform"]=t+"("+n+")",e.style["-ms-transform"]=t+"("+n+")",e.style["-o-transform"]=t+"("+n+")",e.style.transform=t+"("+n+")"}jQuery(document).ready(function(e){e.getJSON("http://localhost:8000/data/estacionesR1.json").success(function(t){e.rutas=t;var n=120,i=n*t.length+n,s=t.length;e.getJSON("http://localhost:8000/data/busesR1.json").success(function(i){e.bus=i;var s=i.length;it=new itinerario(s,t.length,n)}),e("#btn1").click(function(){it.agregarRecorrido("hola todos"),r=e(".timeline0")}),e("#btn2").click(function(){it.eliminarRecorrido(0),r=e(".timeline0")}),e("#btn3").click(function(){e(".bus").eq(0).css("background-image","url(../img/bus-markerv.svg)")});for(var l=e(".timeline"),r=e(".timeline0"),a=l.children(".line"),o=r.children(".line"),c=a.children(".linei"),d=(o.children(".linei"),0);d<t.length;d++){var m=document.createElement("li");m.innerHTML=t[d].Nombre,m.className+="estacion",c[0].appendChild(m)}var u=c.find("li");for(timelineWidth=setTimelineWidth(n,l,t.length),d=0;d<u.length;d++)setPosTimelineE(d,n,u.eq(d),t[d].distancia,i);l.addClass("loaded"),e.getJSON("http://localhost:8000/data/busesR1.json").success(function(t){e.bus=t,b=0,setInterval(function(){if(b<t[0].distancia.length){for(var n=0;n<t.length;n++)setPosTimelineB(e(".bus").eq(n),t[n].distancia[b],s);b++}else b=0},1e3)})})});