jQuery(document).ready(function(e){var o=window.location.search.split("=")[1].split(",");console.log(o),e.getJSON("http://localhost:8000/data/rutas.json").success(function(r){function t(o,r){e.getJSON("http://localhost:8000/data/buses"+o+".json").success(function(t){e.bus=t;for(var n=[],s=t,i=0;i<s.length;i++)n.push(s[i][0].idRecorrido),r.agregarRecorrido(o,s[i][0].idRecorrido,s[i][0].id);var a=0;setInterval(function(){if(a<s[0].length){indices=r.getVectorIndices(n);for(var t=0;t<indices.length;t++)r.actualizarBus(e("#"+s[indices[t]][a].idRecorrido+o),s[indices[t]][a]);a++}else a=0},1e3)})}e.rutas=r;for(var n=100,i=[],a=0,c=0;c<o.length;c++)for(var l=0;l<r.length;l++)o[c]==r[l].nombre&&(i.push(new Recorridos(n,r[l].nombre,r[l].paradas,a,r[l].color)),a++);for(var c=0;c<i.length;c++)t(o[c],i[c]),console.log(c);e(".cajarr").on("click","input",function(){s=e(this),delete i[s.val()],ruta=e(".cajaR"+s.val()),ruta.find(".timelinem").css("height","0px"),ruta.find(".cerrar").css("display","none"),setTimeout(function(){ruta.remove()},1e3)})})});