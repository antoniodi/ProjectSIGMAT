function vModalMulti(e,a){function n(e){u=e,o();i(d),c(u),$("select").material_select()}function o(){d=["Todas las rutas"];for(var e=0;e<u.length;e++)d=d.concat(u[e].categoria);d=d.unique()}function i(){opcionesSelectm=[];for(var e=0;e<d.length;e++)opcionesSelectm.push("<div class=cajarm> "+d[e]+"</div>");p.append(opcionesSelectm.join(" ")),v=p.find(".cajarm")}function s(e){cuadroRutas=[],tam√±odifCon=0;for(var a=0;a<e.length;a++)$([e[a].nombre]).not(l).length>0&&cuadroRutas.push("<p><input type=checkbox name=rutas value="+e[a].nombre+" id="+e[a].nombre+" /><label for="+e[a].nombre+">"+e[a].nombre+"</label></p>");f.children().remove(),0==cuadroRutas.length?f.append("<h5>Las rutas de la categoria seleccionada ya se estan monitorizando</h5>"):f.append(cuadroRutas.join(" "))}function c(e){cuadroRutas=[];for(var a=0;a<e.length;a++)cuadroRutas.push("<div class=caja3> <div class=logo style=background:#"+e[a].color+";>"+e[a].nombre+"</div>  <div class=texto>"+e[a].descripcion+"</div><div class=switch><label><input type=checkbox value="+e[a].nombre+"><span class=lever></span></label></div></div>");$(".bloque4").children().remove(),$(".bloque4").append(cuadroRutas.join(" "))}function r(e){if(elegidos=[],"Todas las rutas"==e)elegidos=u;else for(var a=0;a<u.length;a++)-1!==u[a].categoria.indexOf(e)&&elegidos.push(u[a]);return elegidos}{var u=e,l=a,d=void 0,v=void 0,p=$(".cajam1s"),f=$(".multipleM");$(".unica")}this.setRutasActivas=function(e){l=e},this.getRutasActivas=function(){return l},Array.prototype.unique=function(e){return function(){return this.filter(e)}}(function(e,a,n){return n.indexOf(e,a+1)<0}),n(u),p.on("click","div",function(){t=$(this),t.addClass("active").siblings().removeClass("active"),s(r(d[t.index()]))})}