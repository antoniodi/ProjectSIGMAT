function agregarRutas(e){var o=["Todas las rutas"],t=[];console.log("hola "+e[1].categoria);for(var a=0;a<e.length;a++)o=o.concat(e[a].categoria);o=o.unique();for(var a=0;a<o.length;a++)t.push("<option value="+a+">"+o[a]+"</option>");console.log(t),$("select").append(t.join(" ")),$("select").material_select()}function markerPaqueteFactory(){function e(e,o){for(var t=[],a=0;o>a;a++)t.push(new google.maps.Marker({map:e,icon:marker_estacion,zIndex:2}));return t}function o(e,o){for(var t=[],a=0;o>a;a++)t.push(new google.maps.Marker({map:e,icon:marker_bus0}));return t}function t(e,o){for(var t=[],a=0;o>a;a++)t.push(new google.maps.Marker({map:e,icon:marker_bus1}));return t}function a(e,o){for(var t=[],a=0;o>a;a++)t.push(new google.maps.Marker({map:e,icon:marker_bus2}));return t}this.crearPaqueteMarker=function(n,r,s){switch(n){case"estacion":return console.log("Se creo un marker para una estacion"),e(r,s);case"R1":return console.log("Se creo un recorrido de la ruta R1"),console.log(o(r,s)),o(r,s);case"R2":return console.log("Se creo un recorrido de la ruta R2"),t(r,s);case"R3":return console.log("Se creo un recorrido de la ruta R3"),a(r,s);default:console.log("Nombre de la Ruta no esta definido en la funcion markerPaqueteFactory()")}}}function h(){}function initMap(){function e(e,o){var t=new google.maps.InfoWindow({content:e});google.maps.event.addListener(o,"click",function(){t.open(c,o)})}function o(){$.getJSON("http://localhost:8000/data/ruta1.json",function(e){if($.coordenadas=e,m<e[0].coordenadas.length){for(var o=0;o<e.length;o++)t(e[o].coordenadas[m],u[o]),d[o]=e[o].coordenadas[m].id;m++}else m=0})}function t(e,o){o.setPosition(new google.maps.LatLng(e.latitud,e.longitud))}function a(e,o){var t=document.getElementById("map-zoom-in"),a=document.getElementById("map-zoom-out");e.appendChild(t),e.appendChild(a),google.maps.event.addDomListener(t,"click",function(){o.setZoom(o.getZoom()+1)}),google.maps.event.addDomListener(a,"click",function(){o.setZoom(o.getZoom()-1)})}var n=7.09,r=-73.11,s=13,i=[{stylers:[{lightness:3},{saturation:-60}]},{featureType:"road.local",stylers:[{lightness:-20},{hue:"#2d313f"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"simplified"},{lightness:-20},{gamma:2.15},{hue:"#2d313f"}]},{featureType:"water",stylers:[{gamma:.51},{saturation:17},{lightness:-7},{hue:"#0066ff"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{lightness:-21},{hue:"#2d313f"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{visibility:"simplified"},{saturation:-82},{lightness:-20},{hue:"#2d313f"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{saturation:-90},{lightness:1},{hue:"#2d313f"}]},{featureType:"transit.station.bus",stylers:[{visibility:"off"}]},{featureType:"transit.station.rail",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],l={center:new google.maps.LatLng(n,r),zoom:s,panControl:!1,zoomControl:!1,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:i},c=new google.maps.Map(document.getElementById("map"),l);this.graficarEstaciones=function(o){for(var t=factory.crearPaqueteMarker("estacion",c,o.length),a=0;a<o.length;a++)t[a].setPosition(new google.maps.LatLng(o[a].latitud,o[a].longitud)),e(o[a].Nombre,t[a])};var u=(new google.maps.InfoWindow({content:null}),factory.crearPaqueteMarker("R2",c,5));timer=setInterval(o,1e3);{var m=0,d=[],g=$("#lista").change(function(){switch(clearInterval(timer),g.val()){case"1":timer=setInterval(o,100);break;case"2":timer=setInterval(o,1e3);break;case"3":timer=setInterval(o,5e3);break;default:timer=setInterval(o,1e3)}}),f=document.createElement("div");new a(f,c)}c.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(f),google.maps.event.addDomListener(window,"resize",function(){var e=c.getCenter();google.maps.event.trigger(c,"resize"),c.setCenter(e)})}var marker_bus0="img/bus-markern.svg",marker_bus1="img/bus-markerv.svg",marker_bus2="img/bus-markerm.svg",marker_estacion="img/bus-stop.svg",flecha=$(".flecha"),flecha0=flecha.children("a"),izquierda=$(".izquierda"),estado=!0,modalM=$("#modal1"),botonMonitoreo=$(".btnM"),modalT=$("#modal2"),botonMonitoreoT=$(".btnT");Array.prototype.unique=function(e){return function(){return this.filter(e)}}(function(e,o,t){return t.indexOf(e,o+1)<0}),modalM.openModal(),botonMonitoreo.click(function(){modalM.openModal()}),botonMonitoreoT.click(function(){modalT.openModal()}),flecha.click(function(){console.log("hola"),estado?(estado=!1,izquierda.css("left","-314px"),flecha0.css("transform","rotateZ(180deg)")):(estado=!0,izquierda.css("left","0px"),flecha0.css("transform","rotateZ(0deg)"))});var linksp=$(".tabs_links"),links=linksp.find("a"),items=$(".items");links.eq(0).add(items.eq(0)).addClass("active"),linksp.on("click","a",function(){var e=$(this),o=e.index();e.add(items.eq(o)).addClass("active").siblings().removeClass("active")}),z=new h;