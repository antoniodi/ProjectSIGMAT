function eliminarRecorrido(e){bus=$(e),bus.css("height","0px"),setTimeout(function(){bus.remove()},1e3)}function Itinerario(e,i){function n(){r.append("<div class=timeline0><div class=line><ol class=linei id=recorrido></ol> </div> <div class=datos>hora0 de salida</div></div>"),timeline0=$(".timeline0"),datos=timeline0.children(".datos"),line=timeline0.children(".line"),lineG=line.children(".linei"),estaciones=[],lineasContol=[],c=[];for(var i=0;s>i;i++)estaciones.push("<li class=estacion1></li>");lineG.append(estaciones.join(""));for(var i=0;s>i;i++)lineasContol.push("<div class=lineT style=left:"+e*i+"px></div>");lineG.append(lineasContol.join(""));for(var n=lineG.children(".estacion1"),i=0;s>i;i++)setPosTimelineE(i,e,n.eq(i));return c.push($(".timeline")),c.push(t(e,c[0],s)),c.push($("#recorrido").html()),timeline0.remove(),c}function l(n){for(var l=[],t=0;n>t;t++)l.push("<div class=estacion>"+i[t].nombre+"</div>");$("body").append("<div class=cajaP><div class=timeline><div class=line><ol style=background-color:transparent class=linei>"+l.join("")+"</ol></div><ul class=mover><li><a href=#0 class=prev class=inactive>Anterior</a></li><li><a href=#0 class=next>Siguiente</a></li></ul></div><div class=caja></div></div>"),$(".prev").addClass("inactive");for(var s=$(".estacion"),t=0;n>t;t++)setPosTimelineE(t,e,s.eq(t))}function t(e,i,n){return totalWidth=n*e+e,i.children(".line").children(".linei").css("width",totalWidth+"px"),totalWidth}var s=i.length;l(s,i);var r=$(".caja"),o=[],c=n(),d=c[0],u=c[1],m=c[2];d.find(".mover").on("click",".next",function(e){e.preventDefault(),updateSlide(d,u,"next"),timeline0=$(".timeline0");for(var i=0;i<timeline0.length;i++)updateSlide(timeline0.eq(i),u,"next")}),d.find(".mover").on("click",".prev",function(e){e.preventDefault(),updateSlide(d,u,"prev");for(var i=0;i<timeline0.length;i++)updateSlide(timeline0.eq(i),u,"prev")}),$("#btn1").click(function(){it.agregarRecorrido("hola todos"),timeline0=r.children(".timeline0")}),$("#btn2").click(function(){it.eliminarRecorrido(0),timeline0=r.children(".timeline0")}),$("#btn3").click(function(){$(".bus").eq(0).css("background-image","url(../img/bus-markerv.svg)")}),a=0,$("#btn4").click(function(){$(".lineT").eq(a).css("background-color","#FF5252"),$(".lineT").eq(a).css("width",e+"px"),a++}),$("#btn5").click(function(){$(".lineT").eq(a).css("background-color","#1BCE7C"),$(".lineT").eq(a).css("width",e+"px"),a++}),$("#btn6").click(function(){$(".lineT").eq(a).css("background-color","#3F51B5"),$(".lineT").eq(a).css("width",e+"px"),a++}),this.agregarRecorrido=function(e,i,n){o.push(e,r.append("<div class=timeline0 id=recorrido"+o+"><div class=line><ol class=linei style=width:"+u+"px;>"+m+"<li class=bus>"+n+"</li></div> <div class=datos>hora de salida:</br>"+i+"</div><div class=cerrar onclick=eliminarRecorrido(recorrido"+o+")>x</div></div>"))}}function setPosTimelineE(e,i,n){disNormal=Math.round(e*i+i),n.css("left",disNormal+"px"),n.css("transform","translateX(-50%)")}function setPosTimelineB(e,i){dis=Math.round(i),e.css("left",dis+"px"),e.css("transform","translateX(-50%)"),e.css("transition","left 1s linear")}function updateSlide(e,i,n){var l=e.children(".line"),t=l.children(".linei"),s=getTranslateValue(t),a=Number(l.css("width").replace("px",""));"next"==n?translateTimeline(e,s-a,a-i):translateTimeline(e,s+a)}function getTranslateValue(e){var i=window.getComputedStyle(e.get(0),null),n=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("-moz-transform")||i.getPropertyValue("-ms-transform")||i.getPropertyValue("-o-transform")||i.getPropertyValue("transform");if(n.indexOf("(")>=0){var n=n.split("(")[1];n=n.split(")")[0],n=n.split(",");var l=n[4]}else var l=0;return Number(l)}function translateTimeline(e,i,n){var l=e.children(".line").children(".linei").get(0),t=e.find(".mover");console.log(l),i=i>0?0:i,i="undefined"!=typeof n&&n>i?n:i,setTransformValue(l,"translateX",i+"px"),0==i?t.find(".prev").addClass("inactive"):t.find(".prev").removeClass("inactive"),i==n?t.find(".next").addClass("inactive"):t.find(".next").removeClass("inactive")}function setTransformValue(e,i,n){e.style["-webkit-transform"]=i+"("+n+")",e.style["-moz-transform"]=i+"("+n+")",e.style["-ms-transform"]=i+"("+n+")",e.style["-o-transform"]=i+"("+n+")",e.style.transform=i+"("+n+")"}