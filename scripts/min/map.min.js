function markerFactory(){function e(e){return this.map=e,new google.maps.Marker({position:null,visible:!0,map:this.map,icon:marker_estacion,zIndex:2})}this.crearMarker=function(t,a){switch(this.map=a,t){case"estacion":return console.log("Se creo un marker para una estacion"),e(this.map);case"R1":return console.log("Se creo un recorrido de la ruta R1"),markerR1(this.map);case"R1":return console.log("Se creo un recorrido de la ruta R2"),markerR2(this.map);case"R1":return console.log("Se creo un recorrido de la ruta R3"),markerR3(this.map);default:console.log("Marker no valido")}}}function initMap(){function e(e,a){this.mape=a;for(var i=0;i<e.length;i++){var s=g.crearMarker("estacion",this.mape);t(e[i].Nombre,s),s.setPosition(new google.maps.LatLng(e[i].latitud,e[i].longitud))}}function t(e,t){var a=new google.maps.InfoWindow({content:e});google.maps.event.addListener(t,"click",function(){a.open(p,t)})}function a(){$.getJSON("http://localhost:8001/data/ruta2.json",function(e){$.coordenadas=e,i(e[0],y),i(e[1],h)})}function i(e,t){switch(e.HoraS){case 0:if(v<e.coordenadas.length){var a=-e.coordenadas[v].id+4,i=v-10*(e.coordenadas[v].id-1)+1;chart.series[a].data[1].update(i),f(e.coordenadas[v].latitud,e.coordenadas[v].longitud,t)}else{v=0;for(var s=0;s<chart.series.length;s++)chart.series[s].data[1].update(v)}v++;break;case 20:if(b<e.coordenadas.length&&b>=0){var a=-e.coordenadas[b].id+4;i=b-10*(e.coordenadas[b].id-1)+1,chart.series[a].data[2].update(i),f(e.coordenadas[b].latitud,e.coordenadas[b].longitud,t)}else if(0>=b)b++;else{b=0;for(var s=0;s<chart.series.length;s++)chart.series[s].data[2].update(b)}b++}}function s(e,t){var a=document.getElementById("map-zoom-in"),i=document.getElementById("map-zoom-out");e.appendChild(a),e.appendChild(i),google.maps.event.addDomListener(a,"click",function(){t.setZoom(t.getZoom()+1)}),google.maps.event.addDomListener(i,"click",function(){t.setZoom(t.getZoom()-1)})}var o=7.09,r=-73.11,n=13,l="#2d313f",c=-20,m=5,d=[{elementType:"labels",stylers:[{saturation:c}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry.fill",stylers:[{hue:l},{visibility:"on"},{lightness:m},{saturation:c}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{hue:l},{visibility:"on"},{lightness:m},{saturation:c}]},{featureType:"poi.government",elementType:"geometry.fill",stylers:[{hue:l},{visibility:"on"},{lightness:m},{saturation:c}]},{featureType:"poi.sport_complex",elementType:"geometry.fill",stylers:[{hue:l},{visibility:"on"},{lightness:m},{saturation:c}]},{featureType:"poi.attraction",elementType:"geometry.fill",stylers:[{hue:l},{visibility:"on"},{lightness:m},{saturation:c}]},{featureType:"poi.business",elementType:"geometry.fill",stylers:[{hue:l},{visibility:"on"},{lightness:m},{saturation:c}]},{featureType:"transit",elementType:"geometry.fill",stylers:[{hue:l},{visibility:"on"},{lightness:m},{saturation:c}]},{featureType:"transit.station",elementType:"geometry.fill",stylers:[{hue:l},{visibility:"on"},{lightness:m},{saturation:c}]},{featureType:"landscape",stylers:[{hue:l},{visibility:"on"},{lightness:m},{saturation:c}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:l},{visibility:"on"},{lightness:m},{saturation:c}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{hue:l},{visibility:"on"},{lightness:m},{saturation:c}]},{featureType:"water",elementType:"geometry",stylers:[{hue:l},{visibility:"on"},{lightness:m},{saturation:c}]}],u={center:new google.maps.LatLng(o,r),zoom:n,panControl:!1,zoomControl:!1,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:d},p=new google.maps.Map(document.getElementById("map"),u),g=new markerFactory;$.getJSON("http://localhost:8001/data/coordenadas.json",function(t){$.coordenadas=t,e(t,p)});var y=(new google.maps.InfoWindow({content:null}),new google.maps.Marker({position:null,map:p,visible:!0,icon:marker_bus1})),h=new google.maps.Marker({position:null,map:p,visible:!0,icon:marker_bus1}),f=function(e,t,a){a.setPosition(new google.maps.LatLng(e,t))},v=0,b=-20;timer=setInterval(a,1e3);{var T=$("#lista").change(function(){switch(clearInterval(timer),T.val()){case"1":timer=setInterval(a,200);break;case"2":timer=setInterval(a,1e3);break;case"3":timer=setInterval(a,5e3);break;default:timer=setInterval(a,1e3)}}),k=document.createElement("div");new s(k,p)}p.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(k),google.maps.event.addDomListener(window,"resize",function(){var e=p.getCenter();google.maps.event.trigger(p,"resize"),p.setCenter(e)})}var marker_bus0="img/busmorado.svg",marker_bus1="img/busnaranja.svg",marker_bus2="img/busverde.svg",marker_estacion="img/busestacionazul.svg";$("#container").highcharts({chart:{type:"bar"},title:{text:"Contraste de hipóstesis ideal"},xAxis:{categories:["Hipótesis ideal","Simulación 1<br>Hora salida: 6:00","Simulación 2<br>Hora salida: 6:10"]},yAxis:{min:0,title:{text:"Tiempo total de recorrido [s]"}},legend:{reversed:!0},plotOptions:{series:{stacking:"normal"}},series:[{name:"Hacia estación cañaveral",data:[39,0,0]},{name:"Estación lagos",data:[10,0,0]},{name:"Hacia estación lagos",data:[10,0,0]},{name:"Estación cañaveral",data:[10,0,0]}]});var chart=$("#container").highcharts(),linksp=$(".tabs_links"),links=linksp.find("a"),items=$(".items");links.eq(0).add(items.eq(0)).addClass("active"),linksp.on("click","a",function(){var e=$(this),t=e.index();e.add(items.eq(t)).addClass("active").siblings().removeClass("active")});