function initMap(){function e(e,t){var o=new google.maps.InfoWindow({content:e});google.maps.event.addListener(t,"click",function(){o.open(h,t)})}function o(e,t){L.setContent(e),google.maps.event.addListener(t,"click",function(){L.open(h,t)})}function n(t){for(var o=0;o<t.length;o++)e(t[o].Nombre,w(t[o].latitud,t[o].longitud))}function i(e){var t=e.getPosition();infoWindow1.setContent(['"latitud":',t.lat(),',"longitud":',t.lng(),""].join("")),infoWindow1.open(h,e)}function a(){setInterval(function(){chart.series[3].data[2].update(b)},1e3)}function s(e){setInterval(function(){if(b<e.coordenadas.length){var n=-e.coordenadas[b].id+4;t=b-10*(e.coordenadas[b].id-1),console.log(t),chart.series[n].data[1].update(t),C(e.coordenadas[b].latitud,e.coordenadas[b].longitud,I),o("<p>Ruta: "+e.Ruta+"<br>latitud: "+e.coordenadas[b].latitud+"<br>lontitud: "+e.coordenadas[b].longitud+"<br>id: "+e.coordenadas[b].id+"<br>Hora salida: "+e.HoraS+"</p>",I)}else b=0;b++},1e3)}function l(e,t){var o=document.getElementById("map-zoom-in"),n=document.getElementById("map-zoom-out");e.appendChild(o),e.appendChild(n),google.maps.event.addDomListener(o,"click",function(){t.setZoom(t.getZoom()+1)}),google.maps.event.addDomListener(n,"click",function(){t.setZoom(t.getZoom()-1)})}var r=7.09,g=-73.11,p=13,u="img/busnaranja.svg",y="img/busverde.svg",d="img/busestacionazul.svg",m="#2d313f",f=-20,c=5,v=[{elementType:"labels",stylers:[{saturation:f}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry.fill",stylers:[{hue:m},{visibility:"on"},{lightness:c},{saturation:f}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{hue:m},{visibility:"on"},{lightness:c},{saturation:f}]},{featureType:"poi.government",elementType:"geometry.fill",stylers:[{hue:m},{visibility:"on"},{lightness:c},{saturation:f}]},{featureType:"poi.sport_complex",elementType:"geometry.fill",stylers:[{hue:m},{visibility:"on"},{lightness:c},{saturation:f}]},{featureType:"poi.attraction",elementType:"geometry.fill",stylers:[{hue:m},{visibility:"on"},{lightness:c},{saturation:f}]},{featureType:"poi.business",elementType:"geometry.fill",stylers:[{hue:m},{visibility:"on"},{lightness:c},{saturation:f}]},{featureType:"transit",elementType:"geometry.fill",stylers:[{hue:m},{visibility:"on"},{lightness:c},{saturation:f}]},{featureType:"transit.station",elementType:"geometry.fill",stylers:[{hue:m},{visibility:"on"},{lightness:c},{saturation:f}]},{featureType:"landscape",stylers:[{hue:m},{visibility:"on"},{lightness:c},{saturation:f}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:m},{visibility:"on"},{lightness:c},{saturation:f}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{hue:m},{visibility:"on"},{lightness:c},{saturation:f}]},{featureType:"water",elementType:"geometry",stylers:[{hue:m},{visibility:"on"},{lightness:c},{saturation:f}]}],T={center:new google.maps.LatLng(r,g),zoom:p,panControl:!1,zoomControl:!1,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:v},h=new google.maps.Map(document.getElementById("map"),T),w=function(e,t){var o=new google.maps.Marker({position:new google.maps.LatLng(e,t),map:h,visible:!0,icon:d,zIndex:2});return o},L=new google.maps.InfoWindow({content:null});$.getJSON("http://localhost:8001/data/coordenadas.json",function(e){$.coordenadas=e,n(e)});var I=(new google.maps.Marker({position:null,map:h,visible:!0,icon:y}),new google.maps.Marker({position:null,map:h,visible:!0,icon:u})),C=function(e,t,o){var n=new google.maps.LatLng(e,t);o.setPosition(n)};infoWindow1=new google.maps.InfoWindow;var k=new google.maps.Marker({position:new google.maps.LatLng(7.071729,-73.107195),map:h,draggable:!0,visible:!0});google.maps.event.addListener(k,"click",function(){i(k)}),a(),b=0,$.getJSON("http://localhost:8001/data/ruta1.json",function(e){$.coordenadas=e,s(e)});{var M=document.createElement("div");new l(M,h)}h.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(M),google.maps.event.addDomListener(window,"resize",function(){var e=h.getCenter();google.maps.event.trigger(h,"resize"),h.setCenter(e)})}