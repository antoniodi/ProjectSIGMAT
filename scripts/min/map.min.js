function initMap(){function e(e,t){var o=new google.maps.InfoWindow({content:e});google.maps.event.addListener(t,"click",function(){o.open(v,t)})}function o(e,t){T.setContent(e),google.maps.event.addListener(t,"click",function(){T.open(v,t)})}function n(t){for(var o=0;o<t.length;o++)e(t[o].Nombre,h(t[o].latitud,t[o].longitud))}function i(e){var t=e.getPosition();infoWindow1.setContent(['"latitud":',t.lat(),',"longitud":',t.lng(),""].join("")),infoWindow1.open(v,e)}function a(e,n){setInterval(function(){if(b<e.coordenadas.length){var i=-e.coordenadas[b].id+4;t=b-10*(e.coordenadas[b].id-1)+1,console.log(b),chart.series[i].data[2].update(t),C(e.coordenadas[b].latitud,e.coordenadas[b].longitud,n),o("<p>Ruta: "+e.Ruta+"<br>latitud: "+e.coordenadas[b].latitud+"<br>lontitud: "+e.coordenadas[b].longitud+"<br>id: "+e.coordenadas[b].id+"<br>Hora salida: "+e.HoraS+"</p>",n)}else{b=0;for(var a=0;a<chart.series.length;a++)chart.series[a].data[1].update(b),console.log("hola")}b++},200)}function s(e,t){var o=document.getElementById("map-zoom-in"),n=document.getElementById("map-zoom-out");e.appendChild(o),e.appendChild(n),google.maps.event.addDomListener(o,"click",function(){t.setZoom(t.getZoom()+1)}),google.maps.event.addDomListener(n,"click",function(){t.setZoom(t.getZoom()-1)})}var l=7.09,r=-73.11,g=13,p="img/busnaranja.svg",y="img/busestacionazul.svg",u="#2d313f",d=-20,m=5,f=[{elementType:"labels",stylers:[{saturation:d}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry.fill",stylers:[{hue:u},{visibility:"on"},{lightness:m},{saturation:d}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{hue:u},{visibility:"on"},{lightness:m},{saturation:d}]},{featureType:"poi.government",elementType:"geometry.fill",stylers:[{hue:u},{visibility:"on"},{lightness:m},{saturation:d}]},{featureType:"poi.sport_complex",elementType:"geometry.fill",stylers:[{hue:u},{visibility:"on"},{lightness:m},{saturation:d}]},{featureType:"poi.attraction",elementType:"geometry.fill",stylers:[{hue:u},{visibility:"on"},{lightness:m},{saturation:d}]},{featureType:"poi.business",elementType:"geometry.fill",stylers:[{hue:u},{visibility:"on"},{lightness:m},{saturation:d}]},{featureType:"transit",elementType:"geometry.fill",stylers:[{hue:u},{visibility:"on"},{lightness:m},{saturation:d}]},{featureType:"transit.station",elementType:"geometry.fill",stylers:[{hue:u},{visibility:"on"},{lightness:m},{saturation:d}]},{featureType:"landscape",stylers:[{hue:u},{visibility:"on"},{lightness:m},{saturation:d}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:u},{visibility:"on"},{lightness:m},{saturation:d}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{hue:u},{visibility:"on"},{lightness:m},{saturation:d}]},{featureType:"water",elementType:"geometry",stylers:[{hue:u},{visibility:"on"},{lightness:m},{saturation:d}]}],c={center:new google.maps.LatLng(l,r),zoom:g,panControl:!1,zoomControl:!1,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:f},v=new google.maps.Map(document.getElementById("map"),c),h=function(e,t){var o=new google.maps.Marker({position:new google.maps.LatLng(e,t),map:v,visible:!0,icon:y,zIndex:2});return o},T=new google.maps.InfoWindow({content:null});$.getJSON("http://localhost:8001/data/coordenadas.json",function(e){$.coordenadas=e,n(e)});var w=new google.maps.Marker({position:null,map:v,visible:!0,icon:p}),L=new google.maps.Marker({position:null,map:v,visible:!0,icon:p}),C=function(e,t,o){var n=new google.maps.LatLng(e,t);o.setPosition(n)};infoWindow1=new google.maps.InfoWindow;var I=new google.maps.Marker({position:new google.maps.LatLng(7.071729,-73.107195),map:v,draggable:!0,visible:!0});google.maps.event.addListener(I,"click",function(){i(I)}),$.getJSON("http://localhost:8001/data/ruta2.json",function(e){$.coordenadas=e,a(e.info[0],w),a(e.info[1],L)}),b=0;{var k=document.createElement("div");new s(k,v)}v.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(k),google.maps.event.addDomListener(window,"resize",function(){var e=v.getCenter();google.maps.event.trigger(v,"resize"),v.setCenter(e)})}